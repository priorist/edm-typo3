{namespace edm=Priorist\EdmTypo3\ViewHelpers}

<f:if condition="{lecturers}">
  <f:then>
    <div class="event-summary-box lecturers flex-column d-flex">
      <f:for each="{lecturers}" as="lecturer">
        <div class="d-flex flex-lg-row flex-column">
          <f:if condition="{lecturer.image}">
            <edm:image
              filename="{lecturer.image.original_filename}"
              class="event-contact-person__image"
              src="{lecturer.image.url}"
              width="166c"
              alt="{lecturer.first_name} {lecturer.last_name}"
            />
          </f:if>
          <div class="d-flex flex-column" style="max-width: 304px">
            <h4>
              <f:if condition="{lecturer.title}"> {lecturer.title} </f:if>
              {lecturer.first_name} {lecturer.last_name}
            </h4>
            <p>
              <f:if condition="{lecturer.description}">
                <f:then>
                  <f:format.raw>{lecturer.description}</f:format.raw>
                </f:then>
                <f:else>
                  <f:for each="{lecturer.qualifications}" as="qualification" iteration="iterator">
                    <f:if condition="{iterator.isLast}">
                      <f:then> {qualification} </f:then>
                      <f:else> {qualification}, </f:else>
                    </f:if>
                  </f:for>
                </f:else>
              </f:if>
            </p>
          </div>
        </div>
      </f:for>
    </div>
  </f:then>
  <f:else if="{contactPerson}">
    <div class="event-summary-box flex-column d-flex">
      <div class="d-flex flex-lg-row flex-column">
        <f:if condition="{contactPerson.image}">
          <edm:image
            filename="{contactPerson.image.original_filename}"
            class="event-contact-person__image"
            src="{contactPerson.image.url}"
            width="166c"
            alt="{contactPerson.first_name} {contactPerson.last_name}"
          />
        </f:if>
        <div class="d-flex flex-column">
          <h4 class="mb-0">
            <f:if condition="{contactPerson.title}"> {contactPerson.title} </f:if>
            {contactPerson.first_name} {contactPerson.last_name}
          </h4>

          <f:if condition="{contactPerson.description">
            <p class="mb-3"><f:format.stripTags>{contactPerson.description}</f:format.stripTags></p>
          </f:if>

          <f:if condition="{contactPerson.main_contact_info.email}">
            <span>
              <a href="mailto:{contactPerson.main_contact_info.email}"
                ><strong>{contactPerson.main_contact_info.email}</strong></a
              >
            </span>
          </f:if>

          <f:if condition="{contactPerson.main_contact_info.phone}">
            <span> Telefon: {contactPerson.main_contact_info.phone} </span>
          </f:if>
        </div>
      </div>
    </div>
  </f:else>
</f:if>
